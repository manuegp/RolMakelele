<div class="container">
  <ng-container *ngIf="getPlayersCount === 2; else waiting">
    <h2 class="mb-3">Elige 4 personajes</h2>
    <div class="row">
      <div class="col-md-6 mb-3" *ngFor="let char of characters">
        <div class="card" [class.border-primary]="isSelected(char.id)">
          <div class="card-body">
            <!-- <h5 class="card-title">{{ char.name }}</h5> -->
            <!-- <button class="btn btn-sm btn-outline-primary" (click)="toggle(char.id)">
              {{ isSelected(char.id) ? 'Quitar' : 'Añadir' }}
            </button> -->
            
              <app-ability-selector
                [character]="char"
                [selectedIds]="getSelectedAbilities(char.id)"
                (selectionChange)="onAbilitySelectionChange(char.id, $event)"
              ></app-ability-selector>
           
          </div>
        </div>
      </div>
    </div>
    <button
      class="btn btn-primary"
      [disabled]="!isSelectionValid()"
      (click)="ready()"
    >
      {{ isReady ? 'Volver a seleccionar' : 'Estoy listo' }}
    </button>
    <button class="btn btn-secondary ms-2" (click)="leave()">Salir</button>
  </ng-container>
  <ng-template #waiting>
    Esperando a que se unan más jugadores...
  </ng-template>
</div>
