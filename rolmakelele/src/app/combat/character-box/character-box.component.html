<div
  class="character-box"
  *ngIf="character"
  [class.selectable]="selectable"
  (click)="onClick()"
  [ngxTooltip]="statsTpl"
  placement="top"
  arrow
  [autoUpdate]="true"
>
  <div class="fw-bold">{{ character.name }}</div>
  <div class="progress mt-1" style="height: 8px;">
    <div
      class="progress-bar"
      role="progressbar"
      [style.width.%]="healthPercent"
      [attr.aria-valuenow]="character.currentHealth"
      [attr.aria-valuemin]="0"
      [attr.aria-valuemax]="character.stats.health"
    ></div>
  </div>
  <small>{{ character.currentHealth }} / {{ character.stats.health }}</small>
</div>

<ng-template #statsTpl>
  <div class="stats-tooltip">
    <div *ngFor="let key of statKeys">
      <span [style.color]="getStatColor(key)">
        {{ labels[key] }}: {{ getStatValue(key) }}
      </span>
    </div>
  </div>
</ng-template>
